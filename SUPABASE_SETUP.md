# Настройка Supabase для SportChat

## 1. Создание проекта Supabase

1. Зайди на [supabase.com](https://supabase.com) и создай новый проект
2. Выбери организацию и укажи название проекта (например, "SportChat")
3. Выбери регион (рекомендуется ближайший к твоей локации)
4. Создай надежный пароль для базы данных

## 2. Настройка базы данных

1. После создания проекта перейди в раздел **"SQL Editor"**
2. Создай новый запрос и вставь весь код из файла `src/lib/database.sql`
3. Выполни запрос (нажми Run или Ctrl/Cmd+Enter)

## 3. Настройка переменных окружения

1. В панели Supabase перейди в **Settings → API**
2. Скопируй:
   - **Project URL** (что-то вроде `https://xxxxxx.supabase.co`)
   - **Project API Keys → anon public** (длинный JWT токен)

3. Обнови файл `.env` в корне проекта:

```bash
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://твой-проект-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=твой-anon-ключ
```

## 4. Проверка подключения

После настройки переменных:

1. Запусти проект: `npm run dev`
2. Открой приложение в браузере
3. В разделе "Дни" попробуй:
   - Добавить новый день
   - Выбрать день и написать сообщение в чате
   - Перейти в Dashboard и посмотреть данные

## 5. Функциональность базы данных

### Таблицы:
- **days** - дни тренировок
- **workouts** - тренировки привязанные к дням
- **chat_messages** - история чата по дням  
- **goals** - цели пользователя
- **achievements** - достижения

### Особенности:
- Чат сохраняется отдельно для каждого дня
- При переключении дня загружается соответствующая история
- Автоматические индексы и триггеры для производительности
- Row Level Security (RLS) настроена для публичного доступа

## 6. Управление данными

В панели Supabase (раздел **Table Editor**) ты можешь:
- Просматривать все данные
- Редактировать записи
- Экспортировать данные
- Настраивать дополнительные политики безопасности

## 7. Мониторинг

В разделе **Logs** можешь отслеживать:
- API запросы
- Ошибки базы данных
- Производительность запросов

---

**Важно:** Храни переменные окружения в безопасности и никогда не коммить их в публичные репозитории!